<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miss√µes da Odete 52</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- ===== SPLASH SCREEN ===== -->
    <div id="splash-screen">
        <!-- Spinner de Carregamento -->
        <div id="splash-loader" class="splash-loader"></div>

        <!-- O GIF come√ßa invis√≠vel -->
        <img src="assets/animacoes/odete-airport-suitcase.gif" 
             alt="Anima√ß√£o de Odete chegando ao aeroporto" 
             id="splash-gif" 
             class="gif-loading">
             
        <h1 id="splash-title" style="text-align: center;">
            Miss√µes da Odete
            <br>
            <span style="font-size: 1.2rem; color: var(--text-secondary); font-weight: 400;">
                (e do Luciano tamb√©m)
            </span>
        </h1>
        <button id="splash-start-btn" class="primary-btn" style="margin-top: 32px; min-width: 200px; font-size: 1.2rem;">
            Iniciar
        </button>
    </div>

    <!-- ===== WIZARD DE ONBOARDING ===== -->
    <div id="onboarding-wizard" class="modal-overlay modal-hidden" style="background-color: var(--bg-main); z-index: 9000;">
        <div class="wizard-content">
            
            <!-- Indicadores de Progresso -->
            <div class="wizard-progress-container">
                <span class="wizard-dot active"></span>
                <span class="wizard-dot"></span>
                <span class="wizard-dot"></span>
                <span class="wizard-dot"></span>
            </div>

            <!-- PASSO 1: NOME -->
            <div class="wizard-step active" id="wizard-step-name">
                <h2 class="wizard-title">Como voc√™ se chama?</h2>
                <p class="wizard-subtitle">Para que a gente possa se conhecer melhor.</p>
                <div class="wizard-input-container">
                    <input type="text" id="wizard-name-input" class="wizard-input" placeholder="Digite seu nome" autocomplete="off">
                </div>
                <div class="wizard-actions">
                    <button id="btn-next-name" class="primary-btn full-width" disabled>Pr√≥ximo</button>
                </div>
            </div>

            <!-- PASSO 2: IDIOMA -->
            <div class="wizard-step" id="wizard-step-lang">
                <h2 class="wizard-title">O que voc√™ quer praticar?</h2>
                <p class="wizard-subtitle">Escolha o idioma da sua jornada.</p>
                <div class="wizard-grid-2">
                    <div class="wizard-card" data-type="lang" data-value="en-US">
                        <span class="wizard-emoji">üá∫üá∏</span>
                        <span class="wizard-label">Ingl√™s</span>
                    </div>
                    <div class="wizard-card" data-type="lang" data-value="es-MX">
                        <span class="wizard-emoji">üá≤üáΩ</span>
                        <span class="wizard-label">Espanhol</span>
                    </div>
                </div>
                <div class="wizard-actions">
                    <button id="btn-next-lang" class="primary-btn full-width" disabled>Pr√≥ximo</button>
                </div>
            </div>

            <!-- PASSO 3: N√çVEL -->
            <div class="wizard-step" id="wizard-step-level">
                <h2 class="wizard-title">Qual √© seu n√≠vel atual?</h2>
                <p class="wizard-subtitle">Isso define a dificuldade das conversas.</p>
                <div class="wizard-list">
                    <div class="wizard-card-list" data-type="level" data-value="basic">
                        <span class="wizard-stars">‚òÖ‚òÜ‚òÜ</span>
                        <span class="wizard-label">B√°sico (Frases curtas)</span>
                    </div>
                    <div class="wizard-card-list" data-type="level" data-value="intermediate">
                        <span class="wizard-stars">‚òÖ‚òÖ‚òÜ</span>
                        <span class="wizard-label">Intermedi√°rio (Conversa direta)</span>
                    </div>
                    <div class="wizard-card-list" data-type="level" data-value="advanced">
                        <span class="wizard-stars">‚òÖ‚òÖ‚òÖ</span>
                        <span class="wizard-label">Avan√ßado (Conversa natural)</span>
                    </div>
                </div>
                <div class="wizard-actions">
                    <button id="btn-next-level" class="primary-btn full-width" disabled>Pr√≥ximo</button>
                </div>
            </div>

            <!-- PASSO 4: VOZ -->
            <div class="wizard-step" id="wizard-step-voice">
                <h2 class="wizard-title">Escolha seu guia</h2>
                <p class="wizard-subtitle">Que voz vai te acompanhar nas miss√µes?</p>
                <div class="wizard-grid-2">
                    <div class="wizard-card" data-type="voice" data-value="female">
                        <img src="assets/avatar-odete2.png" alt="Odete" class="wizard-avatar">
                        <span class="wizard-label">Odete</span>
                    </div>
                    <div class="wizard-card" data-type="voice" data-value="male">
                        <img src="assets/avatar-luciano.png" alt="Luciano" class="wizard-avatar">
                        <span class="wizard-label">Luciano</span>
                    </div>
                </div>
                <div class="wizard-actions">
                    <button id="btn-finish-wizard" class="primary-btn full-width" disabled>Concluir Configura√ß√£o</button>
                </div>
            </div>

        </div>
    </div>

    <!-- CONTAINER PRINCIPAL -->
    <div class="app-container hidden" id="app-container">

        <!-- CABE√áALHO GLOBAL -->
        <div class="context-bar" id="context-bar">
            <!-- Indicadores de Status (Esquerda) -->
            <div class="header-indicators">
                <button class="icon-btn header-indicator-btn" id="lang-indicator-btn" title="Mudar Idioma">
                    <!-- Inserido via JS -->
                </button>
                <button class="icon-btn header-indicator-btn" id="proficiency-indicator-btn" title="Mudar N√≠vel de Conversa">
                    <!-- Inserido via JS -->
                </button>
            </div>

            <!-- A√ß√µes e Status (Direita) -->
            <div class="header-actions">
                <div id="score-indicator" class="score-indicator">
                    <!-- Pontua√ß√£o inserida via JS -->
                </div>
                <button id="header-back-btn" class="exit-chat-btn back-btn-hidden">Voltar</button>
                <button id="exit-chat-btn" class="exit-chat-btn exit-chat-btn-hidden">Sair</button>
                <button id="fullscreen-btn" class="icon-btn header-indicator-btn" title="Alternar Tela Cheia">
                    <span>‚õ∂</span>
                </button>
            </div>
        </div>

        <main class="main-area">
            <!-- √ÅREA DE CONTE√öDO DIN√ÇMICA -->
            <!-- O Javascript vai renderizar aqui: Jornada, Miss√£o Avulsa, Chat, Loja, etc. -->
            <div class="main-content-area" id="main-content-area">
            </div>

            <!-- INPUT DO CHAT (Fica fora da √°rea de scroll) -->
            <div class="chat-input-area chat-input-hidden">
                <button class="icon-btn" id="mic-btn" title="Usar microfone">üé§</button>
                <input type="text" id="text-input" placeholder="Digite sua mensagem...">
                <button class="icon-btn" id="send-btn" title="Enviar mensagem">‚û§</button>
            </div>
        </main>
    </div>

    <!-- ===== MODAIS ===== -->
    
    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal-overlay modal-hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Feedback</h2>
                <button id="translate-btn" class="translate-btn-hidden">Traduzir para Portugu√™s</button>
                <span class="modal-close" id="modal-close-btn">&times;</span>
            </div>
            <div class="modal-body" id="feedback-content"></div>
            <div class="modal-footer">
                <button id="practice-again-btn" class="primary-btn">Praticar Novamente</button>
            </div>
        </div>
    </div>
    
    <!-- History Modal -->
    <div id="history-modal" class="modal-overlay modal-hidden">
        <div class="modal-content history-modal-content-wrapper">
            <div class="modal-header history-header-column">
                <div class="history-title-row">
                    <h2 id="history-modal-title">Hist√≥rico</h2>
                    <span class="modal-close" id="history-modal-close-btn">&times;</span>
                </div>
                <div class="tab-bar">
                    <button class="tab-btn active" data-tab="dialogue">Di√°logo</button>
                    <button class="tab-btn" data-tab="feedback">Feedback</button>
                </div>
            </div>
            <div class="modal-body" id="history-modal-body">
                <div id="history-tab-dialogue" class="tab-content active"></div>
                <div id="history-tab-feedback" class="tab-content">
                    <div id="history-feedback-text"></div>
                    <div class="history-actions">
                         <button id="history-translate-btn" class="secondary-btn translate-btn-hidden">Traduzir para Portugu√™s</button>
                         <button id="history-generate-btn" class="primary-btn" style="display: none;">Gerar Feedback Agora</button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="history-practice-again-btn" class="primary-btn">Praticar Novamente</button>
            </div>
        </div>
    </div>

    <!-- Mission Modal (Pre-Chat) -->
    <div id="mission-modal" class="modal-overlay modal-hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Sua Miss√£o üéØ</h2>
                <span class="modal-close" id="mission-modal-close-btn">&times;</span>
            </div>
            <div class="modal-body">
                <div id="mission-image-container" class="mission-image-container modal-hidden"></div>
                <p id="mission-goal-text">O objetivo da sua miss√£o aparecer√° aqui.</p>
                <br>
                <p style="text-align: center; font-weight: 500; margin-bottom: 20px;">Como voc√™ quer praticar?</p>
                <div class="mission-choice-container">
                    <button id="start-text-mission-btn">Por Texto</button>
                    <button id="start-voice-mission-btn">Por Voz</button>
                </div>
            </div>
        </div>
    </div>

    <!-- BARRA DE NAVEGA√á√ÉO INFERIOR -->
    <nav class="bottom-nav-bar" id="bottom-nav-bar">
        <button class="icon-btn" id="nav-home-btn" title="Minha Jornada">üè†</button>
        <!-- Bot√£o Atualizado: De Cen√°rio Personalizado para Miss√£o Avulsa -->
        <button class="icon-btn" id="nav-practice-btn" title="Miss√£o Avulsa">üéØ</button>
        <button class="icon-btn" id="nav-store-btn" title="Loja">üõçÔ∏è</button>
        <button class="icon-btn" id="nav-history-btn" title="Hist√≥rico">üïí</button>
        <button class="icon-btn" id="nav-guide-btn" title="Guia da Odete">‚ùì</button>
    </nav>
    
    <!-- NOTIFICA√á√ÉO DE RECOMPENSA -->
    <div id="reward-notification" class="reward-notification">
        <img src="assets/animacoes/odete-celebrating.gif" alt="Odete comemorando" id="reward-image">
        <p id="reward-text"></p>
    </div>

    <!-- SCRIPTS -->
    <script src="configuration.js"></script>
    <script src="scenarios.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="badges.js"></script>
    <script src="store.js"></script> 
    <script src="script.js"></script>

</body>
</html>